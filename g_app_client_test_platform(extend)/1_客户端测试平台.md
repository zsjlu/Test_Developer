# 客户端测试平台

## 自动便利测试技术

互联网背景

随着移动端业务快速变更，问题也日渐清晰，比如app存在下面业务问题：

- 业务线众多
- 业务流程复杂
- 依赖传统券商一些资源

更多问题
- 旧版雪球app存在股票信息字段内容丢失或者数据异常
- 微信分享不可用
- 用户网络慢时发出请求后退出当前页面发生崩溃
- 某些界面在4.4和5.0的系统上操作体验不同
- 界面崩溃

上述问题，考虑用Appium自动化解决，但产品迭代快速，维护
自动化用例费时费力，同时，需要学习测试用例设计模式（PO），
成本大。
考虑用手工测试解决：
- 界面字段正确性：比如股票相关数据变化，共数十个字段
- 接口正确性： 后端接口传输数据的变化和内容
- 专项测试回归难度大：内存泄漏、健壮性测试、弱网等测试过程太多
- 回归工作量大：不回归又会漏测

无论是自动化测试还是手工测试都无法满足要求，需要对现有
的测试方法改进。

- 自动化测试
    
    - 覆盖主要业务的right path
    - 缩小规模尽量降低维护成本

- 手工测试

    - 覆盖新功能测试
    - 探索性测试
    
对自动化测试与手工测试的改进，产生了新的测试方向：
"自动遍历测试"，它存在以下优点。

- code less:用例维护成本降低到最低
- automate: 尽可能的自动化覆盖回归业务

#### 自动遍历测试的需求

将上述问题及常见公司问题进行总结，可以得出自动遍历的需求：

- 可控：可以定义遍历的路径  
- 可定制：可实现自动输入、自动滑动等基础行为  
- 结果分析  
- 点击前后的截图对比  
- 结果的数据建模  
- app结构思维导图展示

#### 常见遍历工具与技术

自动遍历常见工具：

- google android原生monkey、app crawler
- 百度smartmonkey
- 腾讯newmonkey
- vigossjjj smart_monkey
- macaca的NoSmoke
- 头条的 zhangzhao maxim
- seveniruby appcrawler

google对android系统提供了monkey，app crawler自动
遍历工具，但功能相对简单，无法做到可控，可定制等，基于
monkey工具，国内一些公司进行了二次封装，开发smartmonkey，
newmonkey，smart_monkey工具，优点是速度快，效率高，
缺点是无法定制，不可控，与之相对，seveniruby的appcrawler
及macaca的NoSmoke基于自动化工具（appium）进行二次
开发，做到了可控，可定制，结果分析，但缺点是速度不及monkey



     